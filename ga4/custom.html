<!DOCTYPE html>
<html>
<head>
  <script>
    window.dataLayer = window.dataLayer || [];
  </script>
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-N7VSLCJ');</script>
  <!-- End Google Tag Manager -->
  <meta charset="UTF-8">
  <title>GA4サンプル(カスタムイベント)</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/marx/2.0.4/marx.css">
</head>

<body>
<main>
  <h1>GA4サンプルのページです</h1>
  <p>GTMのカスタムイベント</p>
  <p>
    <a href="#" data-stt-changelang="ja" onclick="dataLayer.push({'event': 'shutto_trans_set_lang', 'lang': 'ja'});" data-stt-ignore>日本語</a> 
    <a href="#" data-stt-changelang="en" onclick="dataLayer.push({'event': 'shutto_trans_set_lang', 'lang': 'en'});" data-stt-ignore>English</a>
    <a href="#" data-stt-changelang="zh-CN" onclick="dataLayer.push({'event': 'shutto_trans_set_lang', 'lang': 'zh-CN'});" data-stt-ignore>中国（简体）</a> 
    <a href="#" data-stt-changelang="zh-TW" onclick="dataLayer.push({'event': 'shutto_trans_set_lang', 'lang': 'zh-TW'});" data-stt-ignore>中國（繁體）</a>
  </p>
  <h3>リンク</h3>
  <a href="1.html"><button>1</button></a>
  <a href="2.html"><button>2</button></a>
  <a href="3.html"><button>3</button></a>
  <a href="4.html"><button>4</button></a>
  <a href="5.html"><button>5</button></a>
</main>
  <script>
  const lang = document.cookie.match(/stt_lang=[^;]+/).at(0).split('=').at(-1)
  dataLayer.push({'event': 'shutto_trans_set_lang', 'lang': lang});
  </script>
</body>
</html>
